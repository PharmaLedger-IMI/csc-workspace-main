<style>
	webc-modal {
		--max-width: 90%;
	}

	webc-modal::part(dialog) {
		align-items: unset;
	}
</style>

<div slot='header'>
	<div class='modal-main-title'>History</div>
</div>

<main class='full-flex-column justify-content-between'>
	<div class='row justify-content-center'>
		<div class='col-4 text-center'>
			<div class='history-shipments'>
				<i class="fas fa-truck"></i>
				<strong>Shipment: {{@shipment.shipmentId}}</strong>
			</div>
			<div data-if='@shipment'>
				<div data-for='@shipment.status'>

					<div data-if='@approved'>
						<div slot='true' class='history-connector'></div>
					</div>

					<div data-if='@cancelled'>
						<div slot='true' class='history-connector'></div>
					</div>

					<div data-if='@normal'>
						<div slot='true' class='history-connector'></div>
					</div>

					<div data-if='@approved'>
						<div slot='true' class='history-status background-approved'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}</b></div>
						</div>
					</div>

					<div data-if='@cancelled'>
						<div slot='true' class='history-status background-cancelled'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}</b></div>
						</div>
					</div>

					<div data-if='@normal'>
						<div slot='true' class='history-status background-primary'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}</b></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class='col-4 text-center'>
			<div class='history-kits'>
				<i class="fas fa-kit-medical"></i>
				<span><b>Kits</b></span>
			</div>

			<div data-if='@displayViewKitsButton'>
				<div data-for='@kits.status' slot='true'>
					<div class='history-connector'></div>

					<div data-if='@approved'>
						<div slot='true' class='history-status background-approved'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>

					<div data-if='@normal'>
						<div slot='true' class='history-status background-primary'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>

					<div data-if='@cancelled'>
						<div slot='true' class='history-status background-cancelled'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>

				</div>
				<div slot='false' class='m-3'><i>No kits are available yet</i></div>
			</div>
		</div>
	</div>

	<div class='row-wrapper button-wrapper justify-content-center align-items-center'>
		<div class="col-4 d-flex justify-content-center" data-if='@displayViewShipmentButton'>
			<button class='btn-default' data-tag='view-shipment'>
				<i class="fas fa-bars-staggered"></i>
				View Shipment
			</button>
		</div>

		<div class="col-4 d-flex justify-content-center" data-if='@displayViewKitsButton'>
			<button class='btn-default' data-tag='view-kits'>
				<i class="fas fa-bars-staggered"></i>
				View Kits
			</button>
		</div>
	</div>
</main>
