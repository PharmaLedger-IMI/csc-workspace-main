<webc-container controller="SingleOrderController">
  <main class="full-flex-column">
    <section>
      <webc-template template="header-template"></webc-template>
      <webc-template template="dashboard-menu"></webc-template>
    </section>

    <section class="order-section">
      <div class="single-order-navigation-holder">
        <webc-link class="nav-back" tag="dashboard">
          <svg viewBox="0 0 52 52" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" y="0px">
            <path
              d="M50,24H6.83L27.41,3.41a2,2,0,0,0,0-2.82,2,2,0,0,0-2.82,0l-24,24a1.79,1.79,0,0,0-.25.31A1.19,1.19,0,0,0,.25,25c0,.07-.07.13-.1.2l-.06.2a.84.84,0,0,0,0,.17,2,2,0,0,0,0,.78.84.84,0,0,0,0,.17l.06.2c0,.07.07.13.1.2a1.19,1.19,0,0,0,.09.15,1.79,1.79,0,0,0,.25.31l24,24a2,2,0,1,0,2.82-2.82L6.83,28H50a2,2,0,0,0,0-4Z"
            />
          </svg>
        </webc-link>
        <webc-link tag="dashboard">Dashboard</webc-link>
        /
        <webc-link tag="dashboard">Orders</webc-link>
        /
        <strong>{{@order.orderId}}</strong>
      </div>

      <div class="single-order-main-holder">
        <div class="row-wrapper">
          <div class="col-4 text-left">
            <div data-if="@order.status_approved">
              <div class="order-status-box background-approved" slot="true">
                <div>Order Status:</div>
                <div><b>{{@order.status_value}}</b></div>
                <div>{{@order.status_date}}</div>
              </div>
            </div>
            <div data-if="@order.status_cancelled">
              <div class="order-status-box background-cancelled" slot="true">
                <div>Order Status:</div>
                <div><b>{{@order.status_value}}</b></div>
                <div>{{@order.status_date}}</div>
              </div>
            </div>
            <div data-if="@order.status_normal">
              <div class="order-status-box background-primary" slot="true">
                <div>Order Status:</div>
                <div><b>{{@order.status_value}}</b></div>
                <div>{{@order.status_date}}</div>
              </div>
            </div>
          </div>

          <div class="col-4 text-center">
            <div class="single-order-title"><b>Order</b></div>
            <div class="single-order-subtitle"><b>Pending Action:</b></div>
            <div class="single-order-disclaimer">{{@order.pending_action}}</div>
          </div>

          <div class="col-4 text-right">
            <button class="btn-default" data-tag="history-button">
              <svg version="1.1" viewBox="0 0 464.811 464.811" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" y="0px">
                <path
                  d="M416.637,90.805c-37.824-49.214-92.541-80.75-154.09-88.803c-60.941-7.972-121.344,8.04-170.302,45.074L74.543,29.349
										c-5.051-5.057-9.712-3.366-10.358,3.745l-5.811,63.458c-0.65,7.111,4.639,12.411,11.756,11.769l63.46-5.734
										c7.117-0.64,8.811-5.305,3.757-10.362l-18.364-18.387c40.313-28.887,89.296-41.248,138.711-34.783
										c51.653,6.757,97.573,33.224,129.313,74.524c31.738,41.297,45.491,92.479,38.734,144.122
										c-4.802,36.677-19.539,70.469-42.471,98.352c-9.357,11.371-20.077,21.762-32.051,30.961
										c-41.296,31.74-92.479,45.496-144.128,38.738c-51.643-6.757-97.559-33.224-129.301-74.519
										c-30.921-40.229-44.832-90.144-39.176-140.55c1.151-10.257-6.23-19.508-16.49-20.655c-10.253-1.155-19.498,6.23-20.644,16.487
										c-6.75,60.067,9.832,119.552,46.677,167.491c37.824,49.213,92.546,80.752,154.088,88.804
										c61.54,8.049,122.53-8.349,171.751-46.172c14.255-10.951,27.037-23.336,38.187-36.892c27.336-33.22,44.895-73.479,50.617-117.191
										C470.851,201.01,454.458,140.016,416.637,90.805z"
                />
                <path
                  d="M223.275,81.15c-8.354,0-15.127,6.772-15.127,15.125v150.751l137.865,71.262c2.223,1.152,4.598,1.699,6.933,1.695
										c5.481,0,10.766-2.982,13.454-8.185c3.84-7.423,0.933-16.549-6.489-20.391l-121.5-62.812V96.276
										C238.41,87.923,231.636,81.15,223.275,81.15z"
                />
              </svg>
              View History
            </button>
          </div>
        </div>

        <div class="row-wrapper single-order-data-holder">
          <!-- Order Details -->
          <div class="accordion-item" data-tag="order_details_accordion" id="order_details_accordion">
            <svg enable-background="new 0 0 200 200" id="order_details_accordion_icon" version="1.1" viewBox="0 0 200 200" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" y="0px">
              <path
                d="M81.969,68.167c2.344-2.346,6.129-2.346,8.482,0l27.592,27.591c2.334,2.345,2.334,6.136,0,8.48
									l-27.592,27.595c-2.354,2.345-6.139,2.345-8.482,0c-2.35-2.35-2.35-6.139,0-8.484l23.33-23.321l-23.33-23.325
									C79.619,74.358,79.684,70.511,81.969,68.167z"
                fill="#231F20"
              />
            </svg>
            <span>Order Details</span>
          </div>
          <div class="accordion-item-holder">
            <webc-template data-view-model="@" template="order/order-details"></webc-template>
          </div>

          <!-- Attached Documents -->
          <div class="accordion-item" data-tag="attached_documents_accordion" id="attached_documents_accordion">
            <svg enable-background="new 0 0 200 200" id="attached_documents_accordion_icon" version="1.1" viewBox="0 0 200 200" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" y="0px">
              <path
                d="M81.969,68.167c2.344-2.346,6.129-2.346,8.482,0l27.592,27.591c2.334,2.345,2.334,6.136,0,8.48
                            l-27.592,27.595c-2.354,2.345-6.139,2.345-8.482,0c-2.35-2.35-2.35-6.139,0-8.484l23.33-23.321l-23.33-23.325
                            C79.619,74.358,79.684,70.511,81.969,68.167z"
                fill="#231F20"
              />
            </svg>
            <span>Attached Documents</span>
          </div>
          <div class="accordion-item-holder" data-if="@order.documents">
            <table class="table table-borderless attach-documents-table">
              <thead>
                <tr>
                  <th scope="col">Document Name</th>
                  <th scope="col">Attached By</th>
                  <th scope="col">Date/Time Attached</th>
                  <th class="text-center" scope="col">Open/Download</th>
                </tr>
              </thead>
              <tbody data-for="@order.documents">
                <tr>
                  <th>{{@name}}</th>
                  <td>{{@attached_by}}</td>
                  <td>{{@date}}</td>
                  <td class="text-center" data-tag="download-file" data-custom="@name">
                    <svg class="attach-documents-table-icon" enable-background="new 0 0 200 200" id="Layer_1" version="1.1" viewBox="0 0 200 200" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
                         y="0px">
                      <path
                        d="M92.857,112.246V90.761c0-3.955,3.219-7.171,7.16-7.171l0,0c3.939,0,7.174,3.216,7.174,7.171v21.485h12.814
													c3.229,0,4.809,3.871,2.514,6.095l-19.996,19.997c-1.434,1.427-3.652,1.427-5.084,0l-19.992-19.997
													c-2.227-2.224-0.65-6.095,2.578-6.095H92.857z M64.174,67.751L64.174,67.751c0,3.943,3.244,7.159,7.16,7.159h57.324
													c3.936,0,7.168-3.216,7.168-7.159l0,0c0-3.937-3.232-7.159-7.168-7.159H71.334C67.418,60.592,64.174,63.815,64.174,67.751z"
                      />
                    </svg>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Order Comments -->
          <div class="accordion-item" data-tag="order_comments_accordion" id="order_comments_accordion">
            <svg enable-background="new 0 0 200 200" id="order_comments_accordion_icon" version="1.1" viewBox="0 0 200 200" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
                 y="0px">
              <path
                d="M81.969,68.167c2.344-2.346,6.129-2.346,8.482,0l27.592,27.591c2.334,2.345,2.334,6.136,0,8.48
									l-27.592,27.595c-2.354,2.345-6.139,2.345-8.482,0c-2.35-2.35-2.35-6.139,0-8.484l23.33-23.321l-23.33-23.325
									C79.619,74.358,79.684,70.511,81.969,68.167z"
                fill="#231F20"
              />
            </svg>
            <span>Order Comments</span>
          </div>
          <div class="accordion-item-holder">
            <div data-if="@order.comments">
              <div class="comments-container py-5 flex-column" data-for="@order.comments">
                <div class="comment">
                  <div class="identity"><small>{{@entity}}</small>, <small>{{@date}}</small></div>
                  <div>{{@comment}}</div>
                </div>
                <div slot="no-data">No comments</div>
              </div>
            </div>
          </div>
        </div>

	      <div class='row-wrapper button-wrapper'>
		      <div data-if='@order.actions.canBeCancelled'>
			      <button class='btn-cancel' data-tag='cancel-order'>
				      <svg id='Layer_1' style='enable-background: new 0 0 512 512' version='1.1' viewBox='0 0 512 512'
				           x='0px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'
				           y='0px'>
		                <path
			              d='M256,0C114.841,0,0,114.841,0,256c0,141.159,114.841,256,256,256s256-114.841,256-256C512,114.841,397.159,0,256,0z
										 M256,490.667C126.604,490.667,21.333,385.396,21.333,256c0-60.87,23.299-116.397,61.445-158.143l331.365,331.366
										C372.398,467.366,316.87,490.667,256,490.667z M429.227,414.138L97.862,82.772C139.607,44.632,195.133,21.333,256,21.333
										c129.396,0,234.667,105.271,234.667,234.667C490.667,316.867,467.367,372.393,429.227,414.138z'></path>
			            </svg>
				      {{ @order.actions.orderCancelButtonText }}
			      </button>
		      </div>
		      <div data-if='@order.actions.canBeReviewed'>
			      <button class='btn-default' data-tag='review-order'>
				      <svg version='1.1' viewBox='0 0 528.899 528.899' x='0px' xml:space='preserve'
				           xmlns='http://www.w3.org/2000/svg'
				           y='0px'>
			              <path
				              d='M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981
												c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611
												C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069
												L27.473,390.597L0.3,512.69z'
				              fill='#000000'></path>
			            </svg>
				      Review
			      </button>
		      </div>
		      <div data-if='@order.actions.canBeApproved'>
			      <button class='btn-approve' data-tag='approve-order'>
				      <svg id='Layer_1' style='enable-background: new 0 0 463 463' version='1.1' viewBox='0 0 463 463'
				           x='0px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'
				           y='0px'>
			              <path
				              d='M415.5,336H263v-17h0.5c8.547,0,15.5-6.953,15.5-15.5v-80.997c9.151-1.88,16.541-9.103,18.361-18.565v-0.001
											l19.378-100.77c4.905-25.509-1.769-51.626-18.312-71.653C281.884,11.486,257.498,0,231.479,0
											c-25.977,0-50.363,11.486-66.907,31.515c-16.543,20.027-23.217,46.145-18.312,71.653l19.379,100.771
											c1.82,9.462,9.21,16.684,18.361,18.565V303.5c0,8.547,6.953,15.5,15.5,15.5h0.5v17H47.5C34.542,336,24,346.542,24,359.5v48
											c0,12.958,10.542,23.5,23.5,23.5H48v16.5c0,8.547,6.953,15.5,15.5,15.5h336c8.547,0,15.5-6.953,15.5-15.5V431h0.5
											c12.958,0,23.5-10.542,23.5-23.5v-48C439,346.542,428.458,336,415.5,336z M264,240h-65v-17h65V240z M180.369,201.105
											l-19.378-100.77c-4.058-21.101,1.463-42.703,15.146-59.269C189.821,24.501,209.992,15,231.521,15
											c21.487,0,41.658,9.501,55.342,26.067c13.684,16.565,19.205,38.168,15.146,59.269l-19.378,100.769
											c-0.769,3.995-4.279,6.896-8.348,6.896h-85.567C184.648,208,181.138,205.1,180.369,201.105z M199.5,304
											c-0.276,0-0.5-0.225-0.5-0.5V255h65v48.5c0,0.275-0.224,0.5-0.5,0.5H199.5z M248,319v17h-33v-17H248z M400,447.5
											c0,0.275-0.224,0.5-0.5,0.5h-336c-0.276,0-0.5-0.225-0.5-0.5V431h337V447.5z M424,407.5c0,4.687-3.813,8.5-8.5,8.5h-8h-352h-8
											c-4.687,0-8.5-3.813-8.5-8.5v-48c0-4.687,3.813-8.5,8.5-8.5h368c4.687,0,8.5,3.813,8.5,8.5V407.5z'></path>
			            </svg>
				      Approve
			      </button>
		      </div>
	      </div>
      </div>
    </section>
  </main>
</webc-container>
