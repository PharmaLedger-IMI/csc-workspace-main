<style>
	webc-modal {
		--max-width: 90%;
	}

	webc-modal::part(dialog) {
		align-items: unset;
	}
</style>

<div slot='header'>
	<div class='modal-main-title'>History</div>
</div>

<main class='full-flex-column justify-content-between history-modal'>
	<div class='row'>
		<div class='col-4 text-center'>
			<div class='history-orders'>
				<i class="fas fa-table-list"></i>
				<strong>Order: {{@order.orderId}}</strong>
			</div>

			<div data-for='@order.status'>
				<div class='history-connector'></div>

				<div data-if='@approved'>
					<div slot='true' class='history-status background-approved'>
						<div class='history-date'>{{@date}}</div>
						<div><b>{{@status}}</b></div>
					</div>
				</div>


				<div data-if='@cancelled'>
					<div slot='true' class='history-status background-cancelled'>
						<div class='history-date'>{{@date}}</div>
						<div><b>{{@status}}</b></div>
					</div>
				</div>

				<div data-if='@normal'>
					<div slot='true' class='history-status background-primary'>
						<div class='history-date'>{{@date}}</div>
						<div><b>{{@status}}</b></div>
					</div>
				</div>
			</div>

		</div>
		<div class='col-4 text-center'>
			<div class='history-shipments'>
				<i class="fas fa-truck"></i>
				<strong>Shipment: {{@shipment.shipmentId}}</strong>
			</div>

			<div data-if='@shipment.shipmentExists'>
				<div slot="true" data-for='@shipment.status'>
					<div class='history-connector'></div>

					<div data-if='@approved'>
						<div slot='true' class='history-status background-approved'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}</b></div>
						</div>
					</div>

					<div data-if='@cancelled'>
						<div slot='true' class='history-status background-cancelled'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}</b></div>
						</div>
					</div>

					<div data-if='@normal'>
						<div slot='true' class='history-status background-primary'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}</b></div>
						</div>
					</div>
				</div>
				<div slot='false' class='m-3'><i>No shipment is available yet</i></div>
			</div>

		</div>
		<div class='col-4 text-center'>
			<div class='history-kits'>
				<i class="fas fa-kit-medical"></i>
				<span><b>Kits</b></span>
			</div>

			<div data-if='@displayViewKitsButton'>
				<div data-for='@kits.status' slot='true'>
					<div class='history-connector'></div>

					<div data-if='@approved'>
						<div slot='true' class='history-status background-approved'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>

					<div data-if='@normal'>
						<div slot='true' class='history-status background-primary'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>

					<div data-if='@requestRelabelingStatuses'>
						<div slot='true' class='history-status background-orange'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>

					<div data-if='@blockedStatuses'>
						<div slot='true' class='history-status background-orange'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>

					<div data-if='@inQuarantine'>
						<div slot='true' class='history-status background-in-quarantine'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>

					<div data-if='@pendingDestruction'>
						<div slot='true' class='history-status background-pending-destruction'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>


					<div data-if='@cancelled'>
						<div slot='true' class='history-status background-cancelled'>
							<div class='history-date'>{{@date}}</div>
							<div><b>{{@status}}:</b> {{@count}}</div>
						</div>
					</div>

				</div>
				<div slot='false' class='m-3'><i>No kits are available yet</i></div>
			</div>
		</div>
	</div>

	<div class='row-wrapper button-wrapper'>
		<div class="col-4 d-flex justify-content-center" data-if='@displayViewOrderButton'>
			<button class='btn-default' data-tag='view-order'>
				<i class="fas fa-bars-staggered"></i>
				View Order
			</button>
		</div>

		<div class="col-4 d-flex justify-content-center" data-if='@displayViewShipmentButton'>
			<button class='btn-default' data-tag='view-shipment'>
				<i class="fas fa-bars-staggered"></i>
				View Shipment
			</button>
		</div>

		<div class="col-4 d-flex justify-content-center" data-if='@displayViewKitsButton'>
			<button class='btn-default' data-tag='view-kits'>
				<i class="fas fa-bars-staggered"></i>
				View Kits
			</button>
		</div>
	</div>
</main>
